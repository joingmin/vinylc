<!DOCTYPE html>
<html>
<head>
<title>의식의 흐름</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="description" content="">
<meta name="keywords" content="">
<style>
	html,body,div,p {margin:0;padding:0}
	#contents {position:relative}
	.box {position:relative}
	.item_tit {display:none;position:absolute;top:0;width:100%}
	.sticky .item_tit01 {left:0}
	.sticky .item_tit02 {right:0}
	.sticky .item_tit03 {left:50%;margin-left:-300px}
	/*.item_tit {display:none;position:fixed;left:0;top:60%}*/
	.list_tit .right {right:0}
	.list_tit .left {left:0}
	.list_tit .center {left:50%;margin-left:-285px}
	.item_tit p {font-size:50px;font-weight:600;line-height:50px}
	.box_desc {margin-top:300px;padding:150px 30px 10px;font-size:20px}
	.sticky {background-color:#D46010}
	#contents .stop {display:block;position:fixed;top:50%}
</style>
</head>
<body>
<div id="contents">
	<div style="height:200px">
		<p>나는 아무 생각이 없다 왜냐하면 아무 생각이 없기 때문이다. <br/> 나는 아무 생각이 없다 왜냐하면 아무 생각이 없기 때문이다.</p>
	</div>
	<div class="box_desc">
		<p class="inner">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit.
			Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
			odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
			est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed Lorem ipsum dolor sit amet, consectetur adipiscing elit.
			Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
			odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
			est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
		</p>
	</div>
	<div class="box sticky">
		<div class="item_tit item_tit01" style="display:block"><p>Title 01 Title 01 Title 01</p></div>
	
		<div class="box_desc">
			<p class="inner">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			</p>
		</div>
	</div>
	
	<div class="box sticky">
		<div class="item_tit item_tit02" style="display:block"><p>Title 02 Title 02 Title 02</p></div>
	
		<div class="box_desc">
			<p class="inner">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			</p>
		</div>
	</div>
	<div class="box sticky">
		<div class="item_tit item_tit03" style="display:block"><p>Title 03 Title 03 Title 03</p></div>
	
		<div class="box_desc">
			<p class="inner">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
				odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
				est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
				ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
				vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
				eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
				hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
				ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			</p>
		</div>
	</div>
	
	<div class="box_desc">
		<p class="inner">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit.
			Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
			odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
			est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed Lorem ipsum dolor sit amet, consectetur adipiscing elit.
			Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas
			odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl
			est, ultrices nec congue eget, auctor vitae massa. Fusce luctus
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue.  Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
			ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer
			vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare
			eu, lobortis in odio. Praesent convallis urna a lacus interdum ut
			hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper
			ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed
		</p>
	</div>
	
</div>	
<script type="text/javascript" src="/js/libs/TweenMax-1.18.0.min.js"></script>
<script type="text/javascript" src="/js/libs/jquery-1.11.2.min.js"></script>
<script type="text/javascript">
;(function render($,undefined){
	//console.log("bottom >>>> " + $(".sticky").eq(0).offset().top + $(".sticky").eq(0).outerHeight());
	$(window).scroll(function scrollevt(e) {
		
//		console.log("windowHeight >>>> " + this.winHeight);
//		console.log("position >>>> " + $(".ui_box_desc").eq(0).position().top);
//		console.log("box_descTop >>>> " + (this.winHeight - $(".ui_box_desc").eq(1).position().top));

		
		var scrollTop = -$(window).scrollTop();
		var $sticky = $(".sticky");
		
		
		
		console.log("scrollTop >>>> " + scrollTop);
		
//	    var generalSidebarHeight = $sticky.innerHeight();
//	    var stickyTop = $sticky.offset().top;
//	    var stickOffset = 0;
//	    var stickyStopperPosition = $stickyrStopper.offset().top;
//	    var stopPoint = stickyStopperPosition - generalSidebarHeight - stickOffset;
//	    var diff = stopPoint + stickOffset;	
		
		$.each($sticky, function stickyloop(i, item) { 
            var top = $(window).height() - $(item).position().top -($(window).height()/2).toFixed(0),
            	bottom = top - $(item).innerHeight() + $(item).find(".item_tit").outerHeight(),
            	titHeight = $(item).find(".item_tit").outerHeight();
            
            var diff = top + ($(window).height()/2).toFixed(0);
            
            //if (scrollTop < top && scrollTop > bottom) {
//            	$(item).find(".item_tit").addClass("stop");
            	
            //} else {
            //	$(item).find(".item_tit").removeClass("stop");
         //   }&& scrollTop > bottom
            if (scrollTop < top) {
            	if (scrollTop < bottom + (titHeight/2)){
            		$(item).find(".item_tit").removeClass("stop").show().css("top",$(item).outerHeight()-titHeight);
            	} else {
            		$(item).find(".item_tit").addClass("stop");	
            	}
            } else {
            	$(item).find(".item_tit").removeClass("stop");
            }
     console.log("bottom >>> " + bottom);
            
            //if (scrollTop < bottom) {
            	
            //}
        }.bind(this)); 
	});
	
	
	
	
	
	
	
/*
	$(document).ready(function() {

		  var $sticky = $('.sticky');
		  var $stickyrStopper = $('.sticky-stopper');
		  if (!!$sticky.offset()) { // make sure ".sticky" element exists

		    var generalSidebarHeight = $sticky.innerHeight();
		    var stickyTop = $sticky.offset().top;
		    var stickOffset = 0;
		    var stickyStopperPosition = $stickyrStopper.offset().top;
		    var stopPoint = stickyStopperPosition - generalSidebarHeight - stickOffset;
		    var diff = stopPoint + stickOffset;

		    $(window).scroll(function(){ // scroll event
		      var windowTop = $(window).scrollTop(); // returns number

		      if (stopPoint < windowTop) {
		          $sticky.css({ position: 'absolute', top: diff });
		      } else if (stickyTop < windowTop+stickOffset) {
		          $sticky.css({ position: 'fixed', top: stickOffset });
		      } else {
		          $sticky.css({position: 'absolute', top: 'initial'});
		      }
		    });

		  }
		});
	*/
}(jQuery));	
</script>
</body>
</html>
